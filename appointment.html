<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Mega Millions Generator</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --bg-start: #FDEFF9;
      --bg-end: #E8F6FF;
      --card-bg: #FFFFFFCC;
      --primary: #A49CF2;
      --accent: #F29E9E;
      --text: #333333;
      --subtle: #555555;
      --shadow: 0 8px 24px rgba(0,0,0,0.1);
    }
    * { box-sizing: border-box; margin:0; padding:0 }
    body {
      background: linear-gradient(135deg,var(--bg-start),var(--bg-end));
      font-family:'Quicksand',sans-serif;
      color:var(--text);
      display:flex; align-items:center; justify-content:center;
      min-height:100vh; padding:1rem;
    }
    .card {
      background:var(--card-bg);
      border-radius:20px;
      box-shadow:var(--shadow);
      max-width:480px; width:100%;
      padding:2rem; text-align:center;
    }
    h1 {
      font-weight:600; color:var(--primary);
      margin-bottom:1.5rem;
    }
    #generate-btn {
      background:var(--primary); color:#fff;
      border:none; border-radius:30px;
      padding:.75rem 2rem; font-size:1.1rem;
      font-weight:500; cursor:pointer;
      box-shadow:var(--shadow);
      transition:transform .2s,box-shadow .2s;
      margin-bottom:1.5rem;
    }
    #generate-btn:hover {
      transform:translateY(-2px);
      box-shadow:0 12px 32px rgba(0,0,0,0.15);
    }
    .balls {
      display:flex; flex-wrap:wrap;
      justify-content:center; gap:.75rem;
      margin-bottom:1rem;
    }
    .ball {
      width:60px; height:60px;
      border-radius:50%; display:flex;
      align-items:center; justify-content:center;
      font-weight:600; font-size:1.2rem;
      color:#fff; box-shadow:0 4px 16px rgba(0,0,0,0.08);
    }
    .white-ball {
      background:#fff; color:var(--primary);
      border:3px solid var(--primary);
    }
    .mega-ball {
      background:var(--accent);
    }
    .confidence {
      font-size:1rem; font-weight:500;
      color:var(--primary); margin-top:.5rem;
    }
    .info {
      text-align:left; font-size:.9rem;
      color:var(--subtle); line-height:1.4;
      margin-top:1rem;
    }
    .info h2 {
      margin-bottom:.5rem; font-weight:500;
      color:var(--primary);
    }
    .info ul {
      list-style:inside disc; margin-left:1rem;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>AI Mega Millions Generator</h1>
    <button id="generate-btn">Generate Numbers</button>
    <div class="balls" id="balls"></div>
    <div class="confidence" id="confidence"></div>
    <div class="info">
      <h2>Patterns &amp; Weights</h2>
      <ul>
        <li>Even/Odd: 2–3 evens</li>
        <li>Sum: 155–195</li>
        <li>Span: 30–45</li>
        <li>≥1 consecutive pair</li>
        <li>≥1 hot cluster (17&32,23&44,49&12)</li>
        <li>Whites / Megas weighted by historical frequency</li>
      </ul>
    </div>
  </div>

  <script>
  // historical frequencies
  const whiteFreq = {31:279,17:275,10:271,20:270,29:265,14:262,4:260,39:260};
  const megaFreq  = {22:43,11:40,24:38,4:35,9:35,13:35};

  // weighted pick
  function weightedPick(freq, pool) {
    let total = 0;
    const opts = pool.map(n => {
      const w = freq[n] || 100;
      total += w;
      return {n,w};
    });
    let r = Math.random() * total;
    for (let o of opts) {
      if (r < o.w) return o.n;
      r -= o.w;
    }
    return opts[opts.length-1].n;
  }

  // generate one candidate
  function generateCandidate() {
    let pool = Array.from({length:56},(_,i)=>i+1);
    const whites = [];
    for (let i=0; i<5; i++) {
      const n = weightedPick(whiteFreq, pool);
      whites.push(n);
      pool = pool.filter(x => x!==n);
    }
    whites.sort((a,b)=>a-b);
    const mega = weightedPick(megaFreq, Array.from({length:25},(_,i)=>i+1));
    return {whites,mega};
  }

  // score candidate
  function score({whites}) {
    const sum = whites.reduce((a,b)=>a+b,0);
    const ev  = whites.filter(n=>n%2===0).length;
    const span= whites[4]-whites[0];
    const gaps= whites.slice(1).map((n,i)=>n-whites[i]);
    const consec = gaps.some(g=>g===1);
    const cluster= [[17,32],[23,44],[49,12]]
      .some(p=>p.every(x=>whites.includes(x)));
    let s=50;
    if(ev>=2&&ev<=3) s+=10;
    if(sum>=155&&sum<=195) s+=10;
    if(span>=30&&span<=45) s+=10;
    if(consec) s+=10;
    if(cluster) s+=10;
    return s;
  }

  // pick best of N
  function pickBest(n=30) {
    let best=null, bestScore=-1;
    for (let i=0;i<n;i++){
      const cand = generateCandidate();
      const sc = score(cand);
      if(sc>bestScore){
        bestScore=sc;
        best=cand;
      }
    }
    return {...best, confidence: bestScore};
  }

  document.getElementById('generate-btn')
    .addEventListener('click', ()=>{
      const {whites,mega,confidence} = pickBest(30);
      const balls = document.getElementById('balls');
      balls.innerHTML = '';
      whites.forEach(n=>{
        const d = document.createElement('div');
        d.className = 'ball white-ball';
        d.textContent = n;
        balls.appendChild(d);
      });
      const m = document.createElement('div');
      m.className = 'ball mega-ball';
      m.textContent = mega;
      balls.appendChild(m);
      document.getElementById('confidence').textContent =
        `Confidence: ${confidence}%`;
    });
  </script>
</body>
</html>
