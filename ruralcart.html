<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Fetch</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
:root{
--yellow:#fff4cc;
--yellow-accent:#f4c430;
--blue:#1a73e8;
--dark:#202124;
}

*{box-sizing:border-box;font-family:Roboto,-apple-system,sans-serif}
body{margin:0;height:100vh;overflow:hidden;background:#fff}

/* ---------- HOMEPAGE ---------- */
#home{
position:fixed;inset:0;background:var(--yellow);
display:flex;flex-direction:column;justify-content:center;
align-items:center;text-align:center;padding:30px;z-index:5000
}
#home h1{font-size:36px;margin-bottom:10px;color:var(--dark)}
#home p{max-width:420px;font-size:16px;color:#444}
.home-benefits{margin:30px 0;text-align:left;max-width:420px}
.home-benefits div{margin-bottom:12px}
.home-benefits i{color:var(--yellow-accent);margin-right:10px}

.home-btn{
margin-top:20px;background:var(--blue);color:#fff;
border:none;padding:16px 28px;border-radius:30px;
font-size:16px;cursor:pointer
}

/* ---------- APP ---------- */
#app{display:none;height:100%;flex-direction:column}
#map{height:55vh;width:100%}

.search-container{
position:absolute;top:20px;left:50%;
transform:translateX(-50%);
width:90%;z-index:10;display:none
}
.search-box{
background:white;border-radius:8px;
box-shadow:0 2px 6px rgba(0,0,0,.3);
height:50px;display:flex;align-items:center;padding:0 15px
}
#place-input{border:none;width:100%;font-size:16px;outline:none;margin-left:10px}

#step-container{
flex:1;background:#fff;margin-top:-24px;
border-radius:24px 24px 0 0;padding:24px;
overflow-y:auto
}

.btn{
background:var(--blue);color:white;border:none;
padding:14px;border-radius:24px;width:100%;
margin-top:15px;font-size:14px;cursor:pointer
}
.btn-outline{background:#fff;border:1px solid #dadce0;color:var(--blue)}

.step-view{display:none}
.step-view.active{display:block}

.progress-bar{display:flex;justify-content:center;gap:8px;margin-bottom:20px}
.dot{width:8px;height:8px;background:#dadce0;border-radius:50%}
.dot.active{background:var(--blue)}
</style>
</head>

<body>

<!-- ---------- HOMEPAGE ---------- -->
<div id="home">
<h1>Fetch</h1>
<p>Delivery built for rural towns and places other apps wonâ€™t go.</p>

<div class="home-benefits">
<div><i class="fas fa-map-marked-alt"></i>No city limits</div>
<div><i class="fas fa-store"></i>Any store, any pickup</div>
<div><i class="fas fa-truck"></i>Local drivers, faster routes</div>
<div><i class="fas fa-road"></i>Designed for rural delivery</div>
</div>

<button class="home-btn" onclick="startApp()">Fetch My Order</button>
</div>

<!-- ---------- APP ---------- -->
<div id="app">

<div id="map"></div>

<div class="search-container" id="search-bar">
<div class="search-box">
<i class="fas fa-search"></i>
<input id="place-input" placeholder="Search address">
</div>
</div>

<div id="step-container">

<div class="progress-bar">
<div id="dot-1" class="dot active"></div>
<div id="dot-2" class="dot"></div>
<div id="dot-3" class="dot"></div>
</div>

<div id="step-1" class="step-view active">
<h2>Confirm Location</h2>
<div id="address-text">Choose delivery address</div>
<button class="btn" onclick="app.goToStep(2)">Confirm</button>
</div>

<div id="step-2" class="step-view">
<h2>Add Pickup Stops</h2>
<div id="stops-list"></div>
<button class="btn" onclick="app.goToStep(3)">Continue</button>
<button class="btn btn-outline" onclick="app.goToStep(1)">Back</button>
</div>

<div id="step-3" class="step-view">
<h2>Review Order</h2>
<button class="btn" onclick="alert('Order placed!')">Place Order</button>
<button class="btn btn-outline" onclick="app.goToStep(2)">Back</button>
</div>

</div>
</div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5GbyoapPOyLYJLNo9y85cyorIczEI-WU&libraries=places&callback=initApp" async defer></script>

<script>
let map, autocomplete, geocoder;
const state={step:1,home:null,stops:[]};

function startApp(){
document.getElementById('home').style.display='none';
document.getElementById('app').style.display='flex';
}

function initApp(){
geocoder=new google.maps.Geocoder();
map=new google.maps.Map(document.getElementById('map'),{
center:{lat:35,lng:-97},zoom:13,disableDefaultUI:true
});

document.getElementById('search-bar').style.display='block';

autocomplete=new google.maps.places.Autocomplete(
document.getElementById('place-input')
);

autocomplete.addListener("place_changed",()=>{
const p=autocomplete.getPlace();
if(!p.geometry)return;

if(state.step===1){
state.home=p.geometry.location;
map.setCenter(state.home);
document.getElementById('address-text').innerText=p.name;
}else{
state.stops.push(p);
}
});
}

const app={
goToStep(n){
document.querySelectorAll('.step-view').forEach(v=>v.classList.remove('active'));
document.querySelectorAll('.dot').forEach(d=>d.classList.remove('active'));
document.getElementById('step-'+n).classList.add('active');
for(let i=1;i<=n;i++)document.getElementById('dot-'+i).classList.add('active');
state.step=n;
}
};
</script>

</body>
</html>
